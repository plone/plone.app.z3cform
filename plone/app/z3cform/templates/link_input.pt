<div i18n:domain="plone">
  <div class="linkModal">

    <div class="pat-autotoc autotabs"
         data-pat-autotoc="section:span.linkType;levels:span.linkLabel;"
    >

      <span class="linkType internal${python:' active' if value else ''}"
            data-linktype="internal"
            tal:define="
              value view/value/internal | nothing;
            "
      >
        <span class="linkLabel d-none"
              i18n:translate="label_internal_url"
        >Internal</span>
        <div>
          <div class="mb-3 main">
            <!-- this gives the name to the "linkType" -->
            <input class="pat-relateditems"
                   name="${view/name}.internal"
                   type="text"
                   data-pat-relateditems="${view/pattern_data}"
                   value="${value}"
            />
          </div>
        </div>
      </span>

      <span class="linkType external${python:' active' if value else ''}"
            data-linktype="external"
            tal:define="
              value view/value/external | nothing;
            "
      >
        <span class="linkLabel d-none"
              i18n:translate="label_external_url"
        >External</span>
        <div class="mb-3 main">
          <label class="form-label"
                 for="external"
                 i18n:translate="help_external_url"
          >External URL (can be relative within this site or absolute if it starts with http:// or https://)</label>
          <input class="form-control"
                 name="${view/name}.external"
                 placeholder="https://domain.com"
                 type="text"
                 value="${value}"
          />
        </div>
      </span>

      <span class="linkType email${python:' active' if value else ''}"
            data-linktype="email"
            tal:define="
              value view/value/email | nothing;
            "
      >
        <span class="linkLabel d-none"
              i18n:translate="label_email_url"
        >Email</span>
        <div class="form-inline">
          <div class="mb-3 main">
            <label class="form-label"
                   i18n:translate="help_email_url"
            >Email Address</label>
            <input class="form-control"
                   name="${view/name}.email"
                   placeholder="name@domain.com"
                   type="text"
                   value="${value}"
            />
          </div>
          <div class="mb-3">
            <label class="form-label"
                   i18n:translate="help_email_url_subject"
            >Email Subject (optional)</label>
            <input class="form-control"
                   name="${view/name}.subject"
                   type="text"
                   value="${view/value/email_subject | nothing}"
            />
          </div>
        </div>
      </span>

    </div><!-- / tabs -->

  </div>
</div>
